\cpgefont{utopia}

\Preauteur{Corrigé proposé par~}
\cpgesetuptitle{before=\null, after=\null, afterskip=0}
\AtBeginDocument{\@bsphack
\cpgesettitle{
    \vskip \z@ plus .5fill
    \ifdefmeta{document}
        {|document| \par \vskip\dimexpr\bigskipamount*4}{}
    \ifdefmeta{concours}
        {|concours| \\}{}
    \ifdefmeta{epreuve}
        {|epreuve| \\}{}
    \ifdefmeta{session}
        {|session|  \\}{}
    \ifdefmeta{auteur}
        {\ifsolution
            \par \vskip2\bigskipamount plus .25fill
            |auteur| \\ 
            \ifdefmeta{email}{|email| \\}{}
            \ifdefmeta{website}{|website| \\}{}
        \fi}{}
    \vskip\z@ plus .5fill
}
\cpgesettitle*{
    |document| 
    \bigskip\hrule\bigskip
        |concours|
        |epreuve|
        |session|  \par \vskip \bigskipamount plus .2fill 
    \ifsolution 
        |auteur| |email| |website|   
    \fi
}
% \cpgesetuptitle{
%     late after* =   \tableofcontents,
%     late after  =   \vskip \z@ plus .5fill
%                      \tableofcontents 
%                       \vskip \z@ plus 1fill
% }
\let\listbox\default@listbox
\cpgesetdeco*{formula}{\fbox}
\cpgesetdeco*{result}{\fboxsep=5pt\fbox}

\ifundef\columnbreak{\let\just@break\pagebreak}{\let\just@break\columnbreak}
\def\problembreak{\just@break}
\cpgesetuplists{
    enumi={
        n=|1|, 
        d={\normalfont\ifsolution\bfseries#1.%
        \else\textlf{\bfseries#1}
            \Large$\,\triangleright\,$\fi}, 
        m, 
        a=l,
        s=8pt plus 2pt minus 4pt,
    },
    itemi = {d={}--{} , m = 2em, s = 6pt }
}
\cpgesetupsectiontitle{
    problem={
        font = \Large\sffamily\bfseries,
        label deco = \ifisasolution#1\fi,
        deco = \ifisasolution 
                    #1 
                \else 
                    \large\mdseries#1\par\bigskip\titlerule
                \fi,
        fill = center, 
        spacing = {\z@}{\z@}{*4}
    },
    parti={
            font=\Large\itshape\bfseries,
            label=|I|,
            label deco=\bfseries Partie #1\enskip-\enskip,
            fill=center,
            spacing={\z@}{*5}{*3}
        },
    partii={
            font=\large\itshape\bfseries,
            label=|A|,
            label deco=\bfseries\itshape Section #1\ - \ ,
            deco = \bfseries\slshape #1,
            fill=right,
            spacing={\z@}{*3}{*1.5}
        }
} 
\cpgesetupmath{
    symbol={
        C=\mathbf C,
        R=\mathbf R, 
        Q=\mathbf Q,
        Z=\mathbf Z,
        N=\mathbf N,
        P=\mathbf P,
        E=\mathbf E,
        V=\mathbf V
    }
}
\@esphack}
\renewpagestyle{plain}[\fontsize{8}{8}\sffamily\scshape]{%
   \renewcommand\makeheadrule{}
   \renewcommand\makefootrule{}
   \sethead{}{}{}
   \setfoot{}{page \thepage{}}{}
 }
\renewpagestyle{main}[\fontsize{8}{8}\sffamily\itshape\scshape]{%
   \renewcommand\makeheadrule{\csuse{head@rule}}
   \renewcommand\makefootrule{\csuse{foot@rule}}
   \sethead{}{}{}
   \setfoot{}{}{\hf@page}
  }

