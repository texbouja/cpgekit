%%%%% chargement de package, dÃ©finition de couleurs, chargement de police,...

\usetikzlibrary{shapes.misc, arrows.meta, babel}

%%%%%


%%% Colors 
\definecolor{igblue}{HTML}{373A73}
\definecolor{igaltblue}{HTML}{007AFF}
\definecolor{iggreen}{HTML}{8CBA30}
\definecolor{stcol}{HTML}{D68A36}
\definecolor{igblack}{HTML}{1F1F1F}

\igset[colors]{    
    warm={iggreen!85!black}{iggreen},
    cold={igblue}{igaltblue},
	link={CornflowerBlue!50!black}{CornflowerBlue!75!black},
	page={white}{igblack},
	%bg={white}{igblack},
	tcbtext=fgcol,
	tcbframe=warmcol,
	tcbback=bgcol,
	tcbtitle=white, 
	tcbbacktitle=warmcol,
}
\AtBeginDocument{%
	\unless\ifsoutien\colorlet{stcol}{warmcol}\fi%
}

\tikzset{question number/.style={
	circle,
	font=\fontsize{16pt}{16pt}\bfseries,
	text=white, draw=bgcol, line width=2pt, 
	top color=coldcol!90, bottom color=coldcol!60!black,  
	inner sep=0pt, 
	text width=28pt,
	align=center,
	yshift=6pt
	}
}
\tikzset{border line/.style={
		overlay,draw=bgcol, fill=bgcol
		}
	}


\newif\iffootimage@exists
\newdimen\logo@width
\newdimen\head@height
\logo@width=.2\paperwidth
\ifdim\logo@width>2cm\relax	
	\logo@width=2cm
\fi
\head@height=\dimexpr\headsep+\headheight\relax
\def\setfoot@logo#1{%
	\IfFileExists{../../img/cover/#1_foot.pdf}
		{\pgfdeclareimage[width=\logo@width]{logofoot}
			{../../img/cover/#1_foot}%
		}{%
			\IfFileExists{#1_foot.pdf}
				{\pgfdeclareimage[width=\logo@width]{logofoot}
					{#1_foot}}
				{\footimage@existsfalse}%
		}%
}
\ifsoutien
	\setfoot@logo{capge}
\else
	\setfoot@logo{cpge}
\fi
\iffootimage@exists	
		\def\newcg@foot{%
		\node (foot) at ([xshift=-2pc, yshift=\igenv@footskip]page.south east)
		[anchor=east, fill=bgcol, minimum height=0]
		 			{\pgfuseimage{logofoot}};%
		}
\else
		\def\newcg@foot{%
				\node (foot) at ([xshift=-2pc, yshift=\igenv@footskip]page.south east)
					[anchor=east, baseline, minimum height=0,
						fill=bgcol, font=\sffamily\scshape\bfseries] 
					{\color{stcol}\small\ifbool{soutien}{capge}{cpge}\kern1ex\large\color{coldcol}Ibn\! Ghazi};%
		}
\fi 



\def\igenv@backdeco{ 
	\ifsinglequizimage
		\draw [overlay, stcol, line width=\igenv@headheight+.4cm, rounded corners=\igenv@headheight] 
		([xshift=-.5\igenv@headheight+.32cm] page.south west)
		--([xshift=-.5\igenv@headheight+.32cm] page.north west);
	\else 
		\draw [overlay, stcol, line width=30pt] 
			(page.north east) -- (page.north west) ;
	\fi
	\newcg@foot
	\draw [overlay, coldcol, line width=.4pt] 
		(foot.west) -- +(-\imagewidth,0)
		(foot.east) -- +(\imagewidth,0);
	}
\endinput

